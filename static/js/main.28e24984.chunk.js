(this.webpackJsonpfaceapi=this.webpackJsonpfaceapi||[]).push([[0],{18:function(e,t,a){e.exports=a(38)},23:function(e,t,a){},31:function(e,t){},32:function(e,t){},33:function(e,t){},35:function(e,t,a){},36:function(e,t,a){e.exports=a.p+"static/media/upload.2677b93a.png"},37:function(e,t,a){e.exports=a.p+"static/media/loading2.1e6d9f0d.gif"},38:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),c=a(13),r=a.n(c),o=(a(23),a(5)),l=a.n(o),s=a(8),u=a(14),m=a(15),d=a(17),g=a(16),p=a(3),h=a(11),f=a.n(h),v=(a(35),function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).imgOnCanvas=function(){var e=document.querySelector("#detectImg"),t=document.querySelector("#imgCanvas");e.onload=function(){t.width=e.clientWidth,t.height=e.clientHeight,t.getContext("2d").drawImage(e,0,0,e.clientWidth,e.clientHeight),a.setState({imgOnCanvas:!0,imageWidth:e.clientWidth,imageHeight:e.clientHeight})}},a.handleImageChange=function(e){var t=new FileReader,n=e.target.files[0];-1===n.type.indexOf("image/")?a.setState({uploadImg:!1,imagePreviewUrl:""}):(t.readAsDataURL(n),t.onloadend=function(){a.setState({uploadImg:!0,imagePreviewUrl:t.result,imgOnCanvas:!1}),a.imgOnCanvas()})},a.state={uploadImg:!1,imagePreviewUrl:"",imgOnCanvas:!1,loading:!1,imageWidth:"",imageHeight:""},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.loadModel()}},{key:"componentDidUpdate",value:function(){}},{key:"loadModel",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/models",e.next=3,p.e(t);case 3:return e.next=5,p.c(t);case 5:return e.next=7,p.d(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"detectFace",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,n,i,c,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.uploadImg,n=t.imageWidth,i=t.imageHeight,a){e.next=5;break}f.a.fire({icon:"error",title:"Oops...",text:"please upload your image first,fuck u!",heightAuto:!1}),e.next=17;break;case 5:return this.setState({loading:!0}),c=document.getElementById("detectImg"),r=document.querySelector("#imgCanvas"),e.next=10,p.a(c).withFaceLandmarks().withFaceDescriptors();case 10:o=e.sent,o=p.f(o,{width:n,height:i}),this.setState({loading:!1}),0===o.length&&f.a.fire({icon:"error",title:"Oops...",text:"detect no faceQQ",heightAuto:!1}),p.b.drawDetections(r,o),p.b.drawFaceLandmarks(r,o),p.b.drawFaceExpressions(r,o);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.uploadImg,c=t.imagePreviewUrl,r=t.imgOnCanvas,o=t.loading;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"topBlock"},i.a.createElement("div",{className:"topText"},"faceAPI demo")),i.a.createElement("div",{className:"cotentBlock"},i.a.createElement("div",{className:"uploadBlock"},!n&&i.a.createElement("div",{className:"uploadIcon"},i.a.createElement("img",{style:{height:"85px"},src:a(36),alt:""}),i.a.createElement("span",null,"please upload your image....")),n&&i.a.createElement("canvas",{style:{display:r?"inline":"none"},id:"imgCanvas"}),i.a.createElement("img",{id:"detectImg",className:"detectImg",style:{display:r?"none":"inline"},src:c,alt:""})),i.a.createElement("div",{className:"upload-btn-wrapper"},i.a.createElement("button",{className:"button",onClick:function(){return e.upload()}},i.a.createElement("span",null,"upload image")),i.a.createElement("input",{type:"file",accept:"image/*",onChange:this.handleImageChange})),i.a.createElement("button",{className:"button",onClick:function(){return e.detectFace()}},!1===o?i.a.createElement("span",null,"detect face"):i.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement("img",{style:{height:"24px"},src:a(37),alt:""}),i.a.createElement("span",null,"\xa0\xa0loading...")))))}}]),n}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.28e24984.chunk.js.map